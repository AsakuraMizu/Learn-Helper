// Generated by IcedCoffeeScript 1.4.0c
(function() {
  var detailLoader, init;

  detailLoader = function(type, id) {
    if (type === 'file') return;
    return chrome.extension.sendMessage({
      op: 'detail',
      data: {
        type: type,
        id: id
      }
    }, function(response) {
      var d;
      d = response.data;
      if (response.type === 'notification') {
        $('.noti-wrap').show();
        $('.title').text(d.detail.title);
        $('.content').html(d.detail.content);
        $('.date').text(new Date(d.day).Format("yyyy-MM-dd"));
        $('.courseName').text(d.courseName);
        $('.author').text(d.author);
      } else if (response.type === 'deadline') {
        $('.ddl-wrap').show();
        $('.title').text(d.detail.title);
        $('.content').html(d.detail.content);
        $('.date').text(new Date(d.end).Format("yyyy-MM-dd"));
        $('.courseName').text(d.courseName);
        $('.uploadText').html(d.detail.uploadText);
        $('.uploadAttach').html(d.detail.uploadAttach);
        $('.attach').html(d.detail.attach);
      }
      return $('.loading').hide();
    });
  };

  init = function() {
    var args;
    args = window.getURLParamters(window.location.href);
    return detailLoader(args.type, args.id);
  };

  $(function() {
    $('.noti-wrap').hide();
    $('.ddl-wrap').hide();
    return init();
  });

}).call(this);
